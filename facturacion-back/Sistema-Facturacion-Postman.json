{
  "info": {
    "name": "Sistema de Facturación",
    "description": "Colección completa para probar el sistema de facturación electrónica",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "BASE_URL",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "PAC_URL",
      "value": "http://localhost:8085",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "1. Generación de Facturas",
      "item": [
        {
          "name": "1.1 Factura Básica",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Empresa Ejemplo S.A. de C.V.\",\n  \"rfcEmisor\": \"EEM123456789\",\n  \"codigoPostalEmisor\": \"12345\",\n  \"regimenFiscalEmisor\": \"601\",\n  \"nombreReceptor\": \"Cliente Ejemplo\",\n  \"rfcReceptor\": \"XEXX010101000\",\n  \"codigoPostalReceptor\": \"54321\",\n  \"regimenFiscalReceptor\": \"601\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Servicio de consultoría IT\",\n      \"cantidad\": 1.0,\n      \"unidad\": \"SERVICIO\",\n      \"precioUnitario\": 1000.00,\n      \"importe\": 1000.00\n    }\n  ],\n  \"metodoPago\": \"PUE\",\n  \"formaPago\": \"01\",\n  \"usoCFDI\": \"G01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        },
        {
          "name": "1.2 Factura Múltiples Conceptos",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Empresa Desarrollo S.A.\",\n  \"rfcEmisor\": \"EDS123456789\",\n  \"codigoPostalEmisor\": \"54321\",\n  \"regimenFiscalEmisor\": \"601\",\n  \"nombreReceptor\": \"Cliente Corporativo\",\n  \"rfcReceptor\": \"CCX010101000\",\n  \"codigoPostalReceptor\": \"12345\",\n  \"regimenFiscalReceptor\": \"601\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Desarrollo de aplicación web\",\n      \"cantidad\": 40.0,\n      \"unidad\": \"HORA\",\n      \"precioUnitario\": 500.00,\n      \"importe\": 20000.00\n    },\n    {\n      \"descripcion\": \"Diseño de interfaz de usuario\",\n      \"cantidad\": 1.0,\n      \"unidad\": \"SERVICIO\",\n      \"precioUnitario\": 5000.00,\n      \"importe\": 5000.00\n    },\n    {\n      \"descripcion\": \"Capacitación del personal\",\n      \"cantidad\": 8.0,\n      \"unidad\": \"HORA\",\n      \"precioUnitario\": 800.00,\n      \"importe\": 6400.00\n    }\n  ],\n  \"metodoPago\": \"PUE\",\n  \"formaPago\": \"01\",\n  \"usoCFDI\": \"G01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        },
        {
          "name": "1.3 Factura Honorarios Médicos",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Dr. Juan Pérez\",\n  \"rfcEmisor\": \"DJP123456789\",\n  \"codigoPostalEmisor\": \"12345\",\n  \"regimenFiscalEmisor\": \"605\",\n  \"nombreReceptor\": \"Paciente María García\",\n  \"rfcReceptor\": \"XEXA010101000\",\n  \"codigoPostalReceptor\": \"54321\",\n  \"regimenFiscalReceptor\": \"616\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Consulta médica especializada\",\n      \"cantidad\": 1.0,\n      \"unidad\": \"SERVICIO\",\n      \"precioUnitario\": 800.00,\n      \"importe\": 800.00\n    }\n  ],\n  \"metodoPago\": \"PUE\",\n  \"formaPago\": \"01\",\n  \"usoCFDI\": \"D01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        },
        {
          "name": "1.4 Factura Pago Diferido",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Empresa PPD\",\n  \"rfcEmisor\": \"EPD123456789\",\n  \"codigoPostalEmisor\": \"12345\",\n  \"regimenFiscalEmisor\": \"601\",\n  \"nombreReceptor\": \"Cliente PPD\",\n  \"rfcReceptor\": \"CPD010101000\",\n  \"codigoPostalReceptor\": \"54321\",\n  \"regimenFiscalReceptor\": \"601\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Servicio de consultoría a largo plazo\",\n      \"cantidad\": 1.0,\n      \"unidad\": \"SERVICIO\",\n      \"precioUnitario\": 50000.00,\n      \"importe\": 50000.00\n    }\n  ],\n  \"metodoPago\": \"PPD\",\n  \"formaPago\": \"03\",\n  \"usoCFDI\": \"G01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        },
        {
          "name": "1.5 Factura Tarjeta de Crédito",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Empresa Tarjeta\",\n  \"rfcEmisor\": \"ETJ123456789\",\n  \"codigoPostalEmisor\": \"12345\",\n  \"regimenFiscalEmisor\": \"601\",\n  \"nombreReceptor\": \"Cliente Tarjeta\",\n  \"rfcReceptor\": \"CTJ010101000\",\n  \"codigoPostalReceptor\": \"54321\",\n  \"regimenFiscalReceptor\": \"601\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Servicio pagado con tarjeta\",\n      \"cantidad\": 1.0,\n      \"unidad\": \"SERVICIO\",\n      \"precioUnitario\": 3500.00,\n      \"importe\": 3500.00\n    }\n  ],\n  \"metodoPago\": \"PUE\",\n  \"formaPago\": \"04\",\n  \"usoCFDI\": \"G01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        },
        {
          "name": "1.6 Factura Persona Física",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Juan Pérez López\",\n  \"rfcEmisor\": \"JPL123456789\",\n  \"codigoPostalEmisor\": \"12345\",\n  \"regimenFiscalEmisor\": \"605\",\n  \"nombreReceptor\": \"María García\",\n  \"rfcReceptor\": \"XEXA010101000\",\n  \"codigoPostalReceptor\": \"54321\",\n  \"regimenFiscalReceptor\": \"616\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Servicio personal\",\n      \"cantidad\": 1.0,\n      \"unidad\": \"SERVICIO\",\n      \"precioUnitario\": 2500.00,\n      \"importe\": 2500.00\n    }\n  ],\n  \"metodoPago\": \"PUE\",\n  \"formaPago\": \"01\",\n  \"usoCFDI\": \"D01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        },
        {
          "name": "1.7 Factura Múltiples Unidades",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Empresa Variada\",\n  \"rfcEmisor\": \"EVX123456789\",\n  \"codigoPostalEmisor\": \"12345\",\n  \"regimenFiscalEmisor\": \"601\",\n  \"nombreReceptor\": \"Cliente Variado\",\n  \"rfcReceptor\": \"CVX010101000\",\n  \"codigoPostalReceptor\": \"54321\",\n  \"regimenFiscalReceptor\": \"601\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Desarrollo de software (por hora)\",\n      \"cantidad\": 20.0,\n      \"unidad\": \"HORA\",\n      \"precioUnitario\": 800.00,\n      \"importe\": 16000.00\n    },\n    {\n      \"descripcion\": \"Licencias de software (por pieza)\",\n      \"cantidad\": 5.0,\n      \"unidad\": \"PIEZA\",\n      \"precioUnitario\": 1200.00,\n      \"importe\": 6000.00\n    },\n    {\n      \"descripcion\": \"Servicio de mantenimiento (por mes)\",\n      \"cantidad\": 12.0,\n      \"unidad\": \"MES\",\n      \"precioUnitario\": 1500.00,\n      \"importe\": 18000.00\n    }\n  ],\n  \"metodoPago\": \"PUE\",\n  \"formaPago\": \"01\",\n  \"usoCFDI\": \"G01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        },
        {
          "name": "1.8 Factura Caracteres Especiales",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Empresa & Asociados S.A. de C.V. (México)\",\n  \"rfcEmisor\": \"EAS123456789\",\n  \"codigoPostalEmisor\": \"12345\",\n  \"regimenFiscalEmisor\": \"601\",\n  \"nombreReceptor\": \"Cliente Internacional Ltda. - Sucursal México\",\n  \"rfcReceptor\": \"CIM010101000\",\n  \"codigoPostalReceptor\": \"54321\",\n  \"regimenFiscalReceptor\": \"601\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Servicio de consultoría IT con caracteres especiales: áéíóú ñ & % $ # @ ! ¿?\",\n      \"cantidad\": 1.0,\n      \"unidad\": \"SERVICIO\",\n      \"precioUnitario\": 5000.00,\n      \"importe\": 5000.00\n    }\n  ],\n  \"metodoPago\": \"PUE\",\n  \"formaPago\": \"01\",\n  \"usoCFDI\": \"G01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        }
      ]
    },
    {
      "name": "2. Consultas",
      "item": [
        {
          "name": "2.1 Consultar Todas las Facturas",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/facturas",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "facturas"]
            }
          }
        },
        {
          "name": "2.2 Consultar Estado de Factura",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/api/factura/timbrado/status/{UUID_FACTURA}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "timbrado", "status", "{UUID_FACTURA}"],
              "variable": [
                {
                  "key": "UUID_FACTURA",
                  "value": "A1B2C3D4-E5F6-7890-ABCD-EF1234567890",
                  "description": "UUID de la factura a consultar"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "3. Pruebas de Error",
      "item": [
        {
          "name": "3.1 RFC Inválido",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Empresa Error\",\n  \"rfcEmisor\": \"RFC_INVALIDO\",\n  \"codigoPostalEmisor\": \"12345\",\n  \"regimenFiscalEmisor\": \"601\",\n  \"nombreReceptor\": \"Cliente Error\",\n  \"rfcReceptor\": \"RFC_INVALIDO\",\n  \"codigoPostalReceptor\": \"54321\",\n  \"regimenFiscalReceptor\": \"601\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Servicio con error\",\n      \"cantidad\": 1.0,\n      \"unidad\": \"SERVICIO\",\n      \"precioUnitario\": 1000.00,\n      \"importe\": 1000.00\n    }\n  ],\n  \"metodoPago\": \"PUE\",\n  \"formaPago\": \"01\",\n  \"usoCFDI\": \"G01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        },
        {
          "name": "3.2 Importe Negativo",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Empresa Negativo\",\n  \"rfcEmisor\": \"ENE123456789\",\n  \"codigoPostalEmisor\": \"12345\",\n  \"regimenFiscalEmisor\": \"601\",\n  \"nombreReceptor\": \"Cliente Negativo\",\n  \"rfcReceptor\": \"CNE010101000\",\n  \"codigoPostalReceptor\": \"54321\",\n  \"regimenFiscalReceptor\": \"601\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Servicio con importe negativo\",\n      \"cantidad\": 1.0,\n      \"unidad\": \"SERVICIO\",\n      \"precioUnitario\": -1000.00,\n      \"importe\": -1000.00\n    }\n  ],\n  \"metodoPago\": \"PUE\",\n  \"formaPago\": \"01\",\n  \"usoCFDI\": \"G01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        },
        {
          "name": "3.3 Datos Incompletos",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Empresa Incompleta\",\n  \"rfcEmisor\": \"EIN123456789\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Servicio incompleto\",\n      \"cantidad\": 1.0,\n      \"precioUnitario\": 1000.00\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        }
      ]
    },
    {
      "name": "4. Casos Especiales",
      "item": [
        {
          "name": "4.1 Valores Mínimos",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Empresa Mínima\",\n  \"rfcEmisor\": \"EMI123456789\",\n  \"codigoPostalEmisor\": \"12345\",\n  \"regimenFiscalEmisor\": \"601\",\n  \"nombreReceptor\": \"Cliente Mínimo\",\n  \"rfcReceptor\": \"CMI010101000\",\n  \"codigoPostalReceptor\": \"54321\",\n  \"regimenFiscalReceptor\": \"601\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Servicio mínimo\",\n      \"cantidad\": 0.01,\n      \"unidad\": \"SERVICIO\",\n      \"precioUnitario\": 0.01,\n      \"importe\": 0.0001\n    }\n  ],\n  \"metodoPago\": \"PUE\",\n  \"formaPago\": \"01\",\n  \"usoCFDI\": \"G01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        },
        {
          "name": "4.2 Valores Máximos",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombreEmisor\": \"Empresa Máxima S.A. de C.V.\",\n  \"rfcEmisor\": \"EMA123456789\",\n  \"codigoPostalEmisor\": \"12345\",\n  \"regimenFiscalEmisor\": \"601\",\n  \"nombreReceptor\": \"Cliente Máximo Corporativo S.A. de C.V.\",\n  \"rfcReceptor\": \"CMA010101000\",\n  \"codigoPostalReceptor\": \"54321\",\n  \"regimenFiscalReceptor\": \"601\",\n  \"conceptos\": [\n    {\n      \"descripcion\": \"Proyecto de desarrollo de software empresarial de gran escala con múltiples módulos y funcionalidades avanzadas\",\n      \"cantidad\": 999999.99,\n      \"unidad\": \"SERVICIO\",\n      \"precioUnitario\": 999999.99,\n      \"importe\": 999999980000.00\n    }\n  ],\n  \"metodoPago\": \"PUE\",\n  \"formaPago\": \"01\",\n  \"usoCFDI\": \"G01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/factura/generar",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "factura", "generar"]
            }
          }
        }
      ]
    }
  ]
}


