spring:
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB
  profiles:
    active: oracle
  jackson:
    serialization:
      write-dates-as-timestamps: false
    date-format: yyyy-MM-dd'T'HH:mm:ss.SSS
  mail:
    host: smtp.gmail.com
    port: 587
    username: nm9282672@gmail.com
    password: kaswbavrfmlqenec
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
          from: nm9282672@gmail.com

app:
  logs:
    # Base directory that contains readable log files for previewing.
    # You can override with environment variable LOGS_BASE_DIR.
    # Example (Linux): /var/log/myapp
    # Example (Windows): C:/cibercom/logs
    base-dir: "${LOGS_BASE_DIR:C:/cibercom/logs}"
    # Allow clients to pass ?baseDir=... in requests (dev convenience)
    allow-request-base: ${ALLOW_REQUEST_BASE:true}

# Escribir logs del backend en la misma carpeta para que aparezcan en la UI
logging:
  file:
    name: ${LOG_FILE:${app.logs.base-dir}/server.log}
  logback:
    rollingpolicy:
      # Rota por fecha y tamaño: server.log.2025-10-23.0, .1, ...
      file-name-pattern: ${app.logs.base-dir}/server.log.%d{yyyy-MM-dd}.%i
      max-file-size: 10MB
      max-history: 7
      total-size-cap: 200MB
  cors:
    # Comma-separated list of allowed origins for CORS in dev.
    # Example: http://localhost:5173,https://tuapp.local
    allowed-origins: ${ALLOWED_ORIGINS:http://localhost:5173}
    app.logs.base-dir: ${LOGS_BASE_DIR:C:/cibercom/logs}

spring.main.headless: false

# Configuración JWT
jwt:
  secret: cibercom-facturacion-secret-key-2024-super-secure
  expiration: 900000 # 15 minutos en milisegundos

# Configuración de seguridad
security:
  cors:
    allowed-origins: http://localhost:5173
    allowed-methods: GET,POST,PUT,DELETE,OPTIONS
    allowed-headers: "*"
    allow-credentials: true

---

spring:
  config:
    activate:
      on-profile: oracle
  datasource:
    url: jdbc:oracle:thin:@//DESKTOP-EI05NSQ:1521/xepdb1
    username: luisch
    password: adminroot1
    driver-class-name: oracle.jdbc.OracleDriver
  jpa:
    properties:
      hibernate.dialect: org.hibernate.dialect.OracleDialect
    hibernate:
      ddl-auto: none
  show-sql: true
  jackson:
    serialization:
      write-dates-as-timestamps: false
    date-format: yyyy-MM-dd'T'HH:mm:ss.SSS

---

spring:
  config:
    activate:
      on-profile: mongo
  data:
    mongodb:
      uri: mongodb://localhost:27017/facturacion_mongo
  jackson:
    serialization:
      write-dates-as-timestamps: false
    date-format: yyyy-MM-dd'T'HH:mm:ss.SSS
  mail:
    host: smtp.gmail.com
    port: 587
    username: nm9282672@gmail.com
    password: kaswbavrfmlqenec
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
          from: nm9282672@gmail.com
